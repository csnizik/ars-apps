const plugin = require('tailwindcss/plugin')
const { addDynamicIconSelectors } = require('@iconify/tailwind')
const tailwindAnimate = require('tailwindcss-animate')
const tailwindContainerQueries = require('@tailwindcss/container-queries')
const tailwindTypography = require('@tailwindcss/typography')
const tailwindForms = require('@tailwindcss/forms')

const config = {
  content: [
    './src/**/*.{html,twig,php}',
    './templates/**/*.{html,twig,php}',
  ],
  corePlugins: {
    fontFamily: false,
  },
  theme: {
    fontSize: {
      '2xs': ['0.6875rem', { lineHeight: '1rem' }],
      xs: ['0.75rem', { lineHeight: '1rem' }],
      sm: ['0.875rem', { lineHeight: '1.25rem' }],
      base: ['1rem', { lineHeight: '1.5rem' }],
      lg: ['1.125rem', { lineHeight: '1.75rem' }],
      xl: ['1.25rem', { lineHeight: '1.75rem' }],
      '2xl': ['1.5rem', { lineHeight: '2rem' }],
      '3xl': ['1.875rem', { lineHeight: '2.25rem' }],
      '4xl': ['2.25rem', { lineHeight: '2.5rem' }],
      '5xl': ['3rem', { lineHeight: '1' }],
      '6xl': ['3.75rem', { lineHeight: '1' }],
      '7xl': ['4.5rem', { lineHeight: '1' }],
      '8xl': ['6rem', { lineHeight: '1' }],
      '9xl': ['8rem', { lineHeight: '1' }],
    },
    colors: {
      transparent: 'transparent',
      current: 'currentColor',
      inherit: 'inherit',
      white: '#ffffff',
      black: '#000000',
      'red-50': '#fef2f2',
      'red-100': '#fee2e2',
      'red-200': '#fecaca',
      'red-300': '#fca5a5',
      'red-400': '#f87171',
      'red-500': '#ef4444',
      'red-600': '#dc2626',
      'red-700': '#b91c1c',
      'red-800': '#991b1b',
      'red-900': '#7f1d1d',
      'red-950': '#450a0a',
      'orange-50': '#fff7ed',
      'orange-100': '#ffedd5',
      'orange-200': '#fed7aa',
      'orange-300': '#fdba74',
      'orange-400': '#fb923c',
      'orange-500': '#f97316',
      'orange-600': '#ea580c',
      'orange-700': '#c2410c',
      'orange-800': '#9a3412',
      'orange-900': '#7c2d12',
      'orange-950': '#431407',
      'amber-50': '#fffbeb',
      'amber-100': '#fef3c7',
      'amber-200': '#fde68a',
      'amber-300': '#fcd34d',
      'amber-400': '#fbbf24',
      'amber-500': '#f59e0b',
      'amber-600': '#d97706',
      'amber-700': '#b45309',
      'amber-800': '#92400e',
      'amber-900': '#78350f',
      'amber-950': '#451a03',
      'yellow-50': '#fefce8',
      'yellow-100': '#fef9c3',
      'yellow-200': '#fef08a',
      'yellow-300': '#fde047',
      'yellow-400': '#facc15',
      'yellow-500': '#eab308',
      'yellow-600': '#ca8a04',
      'yellow-700': '#a16207',
      'yellow-800': '#854d0e',
      'yellow-900': '#713f12',
      'yellow-950': '#422006',
      'lime-50': '#f7fee7',
      'lime-100': '#ecfccb',
      'lime-200': '#d9f99d',
      'lime-300': '#bef264',
      'lime-400': '#a3e635',
      'lime-500': '#84cc16',
      'lime-600': '#65a30d',
      'lime-700': '#4d7c0f',
      'lime-800': '#365314',
      'lime-900': '#1a2e05',
      'lime-950': '#0f172a',
      'green-50': '#f0fdf4',
      'green-100': '#dcfce7',
      'green-200': '#bbf7d0',
      'green-300': '#86efac',
      'green-400': '#4ade80',
      'green-500': '#22c55e',
      'green-600': '#16a34a',
      'green-700': '#15803d',
      'green-800': '#166534',
      'green-900': '#14532d',
      'green-950': '#052e16',
      'emerald-50': '#ecfdf5',
      'emerald-100': '#d1fae5',
      'emerald-200': '#a7f3d0',
      'emerald-300': '#6ee7b7',
      'emerald-400': '#34d399',
      'emerald-500': '#10b981',
      'emerald-600': '#059669',
      'emerald-700': '#047857',
      'emerald-800': '#065f46',
      'emerald-900': '#064e3b',
      'emerald-950': '#022c22',
      'teal-50': '#f0fdfa',
      'teal-100': '#ccfbf1',
      'teal-200': '#99f6e4',
      'teal-300': '#5eead4',
      'teal-400': '#2dd4bf',
      'teal-500': '#14b8a6',
      'teal-600': '#0d9488',
      'teal-700': '#0f766e',
      'teal-800': '#115e59',
      'teal-900': '#134e4a',
      'teal-950': '#042f2e',
      'cyan-50': '#ecfeff',
      'cyan-100': '#cffafe',
      'cyan-200': '#a5f3fc',
      'cyan-300': '#67e8f9',
      'cyan-400': '#22d3ee',
      'cyan-500': '#06b6d4',
      'cyan-600': '#0891b2',
      'cyan-700': '#0e7490',
      'cyan-800': '#155e75',
      'cyan-900': '#164e63',
      'cyan-950': '#083344',
      'sky-50': '#f0f9ff',
      'sky-100': '#e0f2fe',
      'sky-200': '#bae6fd',
      'sky-300': '#7dd3fc',
      'sky-400': '#38bdf8',
      'sky-500': '#0ea5e9',
      'sky-600': '#0284c7',
      'sky-700': '#0369a1',
      'sky-800': '#075985',
      'sky-900': '#0c4a6e',
      'sky-950': '#082f49',
      'blue-50': '#eff6ff',
      'blue-100': '#dbeafe',
      'blue-200': '#bfdbfe',
      'blue-300': '#93c5fd',
      'blue-400': '#60a5fa',
      'blue-500': '#3b82f6',
      'blue-600': '#2563eb',
      'blue-700': '#1d4ed8',
      'blue-800': '#1e40af',
      'blue-900': '#1e3a8a',
      'blue-950': '#172554',
      'indigo-50': '#eef2ff',
      'indigo-100': '#e0e7ff',
      'indigo-200': '#c7d2fe',
      'indigo-300': '#a5b4fc',
      'indigo-400': '#818cf8',
      'indigo-500': '#6366f1',
      'indigo-600': '#4f46e5',
      'indigo-700': '#4338ca',
      'indigo-800': '#3730a3',
      'indigo-900': '#312e81',
      'indigo-950': '#1e1b4b',
      'violet-50': '#f5f3ff',
      'violet-100': '#ede9fe',
      'violet-200': '#ddd6fe',
      'violet-300': '#c4b5fd',
      'violet-400': '#a78bfa',
      'violet-500': '#8b5cf6',
      'violet-600': '#7c3aed',
      'violet-700': '#6d28d9',
      'violet-800': '#5b21b6',
      'violet-900': '#4c1d95',
      'violet-950': '#2e1065',
      'purple-50': '#faf5ff',
      'purple-100': '#f3e8ff',
      'purple-200': '#e9d5ff',
      'purple-300': '#d8b4fe',
      'purple-400': '#c084fc',
      'purple-500': '#a855f7',
      'purple-600': '#9333ea',
      'purple-700': '#7e22ce',
      'purple-800': '#6b21a8',
      'purple-900': '#581c87',
      'purple-950': '#3b0764',
      'fuchsia-50': '#fdf4ff',
      'fuchsia-100': '#fae8ff',
      'fuchsia-200': '#f5d0fe',
      'fuchsia-300': '#f0abfc',
      'fuchsia-400': '#e879f9',
      'fuchsia-500': '#d946ef',
      'fuchsia-600': '#c026d3',
      'fuchsia-700': '#a21caf',
      'fuchsia-800': '#86198f',
      'fuchsia-900': '#701a75',
      'fuchsia-950': '#4a044e',
      'pink-50': '#fdf2f8',
      'pink-100': '#fce7f3',
      'pink-200': '#fbcfe8',
      'pink-300': '#f9a8d4',
      'pink-400': '#f472b6',
      'pink-500': '#ec4899',
      'pink-600': '#db2777',
      'pink-700': '#be185d',
      'pink-800': '#9d174d',
      'pink-900': '#831843',
      'pink-950': '#500724',
      'rose-50': '#fff1f2',
      'rose-100': '#ffe4e6',
      'rose-200': '#fecdd3',
      'rose-300': '#fda4af',
      'rose-400': '#fb7185',
      'rose-500': '#f43f5e',
      'rose-600': '#e11d48',
      'rose-700': '#be123c',
      'rose-800': '#9f1239',
      'rose-900': '#881337',
      'rose-950': '#4c0519',
      'slate-50': '#f8fafc',
      'slate-100': '#f1f5f9',
      'slate-200': '#e2e8f0',
      'slate-300': '#cbd5e1',
      'slate-400': '#94a3b8',
      'slate-500': '#64748b',
      'slate-600': '#475569',
      'slate-700': '#334155',
      'slate-800': '#1e293b',
      'slate-900': '#0f172a',
      'slate-950': '#020617',
      'gray-50': '#f9fafb',
      'gray-100': '#f3f4f6',
      'gray-200': '#e5e7eb',
      'gray-300': '#d1d5db',
      'gray-400': '#9ca3af',
      'gray-500': '#6b7280',
      'gray-600': '#4b5563',
      'gray-700': '#374151',
      'gray-800': '#1f2937',
      'gray-900': '#111827',
      'gray-950': '#030712',
      'zinc-50': '#fafafa',
      'zinc-100': '#f4f4f5',
      'zinc-200': '#e4e4e7',
      'zinc-300': '#d4d4d8',
      'zinc-400': '#a1a1aa',
      'zinc-500': '#71717a',
      'zinc-600': '#52525b',
      'zinc-700': '#3f3f46',
      'zinc-800': '#27272a',
      'zinc-900': '#18181b',
      'zinc-950': '#09090b',
      'neutral-50': '#fafafa',
      'neutral-100': '#f5f5f5',
      'neutral-200': '#e5e5e5',
      'neutral-300': '#d4d4d4',
      'neutral-400': '#a3a3a3',
      'neutral-500': '#737373',
      'neutral-600': '#525252',
      'neutral-700': '#404040',
      'neutral-800': '#262626',
      'neutral-900': '#171717',
      'neutral-950': '#0a0a0a',
      'stone-50': '#fafaf9',
      'stone-100': '#f5f5f4',
      'stone-200': '#e7e5e4',
      'stone-300': '#d6d3d1',
      'stone-400': '#a8a29e',
      'stone-500': '#78716c',
      'stone-600': '#57534e',
      'stone-700': '#44403c',
      'stone-800': '#292524',
      'stone-900': '#1c1917',
      'stone-950': '#0c0a09',
    },
    screens: {
      card: "160px",
      "card-lg": "240px",
      mobile: "320px",
      "mobile-lg": "480px",
      tablet: "640px",
      "tablet-lg": "880px",
      desktop: "1024px",
      "desktop-lg": "1200px",
      widescreen: "1400px",
    },
    containers: {
      card: "160px",
      "card-lg": "240px",
      mobile: "320px",
      "mobile-lg": "480px",
      tablet: "640px",
      "tablet-lg": "880px",
      desktop: "1024px",
      "desktop-lg": "1200px",
      widescreen: "1400px",
    },
    fontFamily: {
      'open-sans': {
        family: ['Open Sans Variable', 'Open Sans', 'system-ui', 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', 'sans-serif', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'],
        multiplier: 1,
      },
      'public-sans': {
        family: ['Public Sans Variable', 'Public Sans', 'system-ui', 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', 'sans-serif', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'],
        multiplier: 1,
      },
      'source-sans-3': {
        family: ['Source Sans 3 Variable', 'Source Sans 3', 'system-ui', 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', 'sans-serif', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'],
        multiplier: 1,
      },
      'roboto-mono': {
        family: ['Roboto Mono Variable', 'Roboto Mono', 'Consolas', 'Monaco', 'Courier New', 'monospace'],
        multiplier: 1,
      },
      'merriweather': {
        family: ['Merriweather', 'Georgia', 'Cambria', 'Times New Roman', 'Times', 'serif'],
        multiplier: 1,
      },
    },
    extend: {
      maxWidth: {
        prose: "68ex"
      },
      lineHeight: {
        tighter: '1.125'
      },
      typography: ({ theme }) => ({
        DEFAULT: {
          css: {
            '--tw-prose-body': theme('colors.gray.700'),
            '--tw-prose-headings': theme('colors.gray.900'),
            '--tw-prose-lead': theme('colors.gray.600'),
            '--tw-prose-links': theme('colors.blue.600'),
            '--tw-prose-bold': theme('colors.gray.900'),
            '--tw-prose-counters': theme('colors.gray.500'),
            '--tw-prose-bullets': theme('colors.gray.300'),
            '--tw-prose-hr': theme('colors.gray.200'),
            '--tw-prose-quotes': theme('colors.gray.900'),
            '--tw-prose-quote-borders': theme('colors.gray.200'),
            '--tw-prose-captions': theme('colors.gray.500'),
            '--tw-prose-code': theme('colors.gray.900'),
            '--tw-prose-pre-code': theme('colors.gray.200'),
            '--tw-prose-pre-bg': theme('colors.gray.800'),
            '--tw-prose-th-borders': theme('colors.gray.300'),
            '--tw-prose-td-borders': theme('colors.gray.200'),
            color: 'var(--tw-prose-body)',
            lineHeight: '1.75',
            maxWidth: '68ex',
            fontSize: '1rem',
            p: {
              marginTop: '1.25em',
              marginBottom: '1.25em',
            },
            '[class~="lead"]': {
              color: 'var(--tw-prose-lead)',
              fontSize: '1.25em',
              lineHeight: '1.6',
              marginTop: '1.2em',
              marginBottom: '1.2em',
            },
            a: {
              color: 'var(--tw-prose-links)',
              textDecoration: 'underline',
              fontWeight: '500',
            },
            strong: {
              color: 'var(--tw-prose-bold)',
              fontWeight: '600',
            },
            'a strong': {
              color: 'inherit',
            },
            blockquote: {
              fontWeight: '500',
              fontStyle: 'italic',
              color: 'var(--tw-prose-quotes)',
              borderLeftWidth: '0.25rem',
              borderLeftColor: 'var(--tw-prose-quote-borders)',
              quotes: '"\\201C""\\201D""\\2018""\\2019"',
              marginTop: '1.6em',
              marginBottom: '1.6em',
              paddingLeft: '1em',
            },
            'blockquote p:first-of-type::before': {
              content: 'open-quote',
            },
            'blockquote p:last-of-type::after': {
              content: 'close-quote',
            },
            h1: {
              color: 'var(--tw-prose-headings)',
              fontWeight: '800',
              fontSize: '2.25em',
              marginTop: '0',
              marginBottom: '0.8888889em',
              lineHeight: '1.1111111',
            },
            'h1 strong': {
              fontWeight: '900',
              color: 'inherit',
            },
            h2: {
              color: 'var(--tw-prose-headings)',
              fontWeight: '700',
              fontSize: '1.5em',
              marginTop: '2em',
              marginBottom: '1em',
              lineHeight: '1.3333333',
            },
            'h2 strong': {
              fontWeight: '800',
              color: 'inherit',
            },
            h3: {
              color: 'var(--tw-prose-headings)',
              fontWeight: '600',
              fontSize: '1.25em',
              marginTop: '1.6em',
              marginBottom: '0.6em',
              lineHeight: '1.6',
            },
            'h3 strong': {
              fontWeight: '700',
              color: 'inherit',
            },
            h4: {
              color: 'var(--tw-prose-headings)',
              fontWeight: '600',
              marginTop: '1.5em',
              marginBottom: '0.5em',
              lineHeight: '1.5',
            },
            'h4 strong': {
              fontWeight: '700',
              color: 'inherit',
            },
            img: {
              marginTop: '2em',
              marginBottom: '2em',
            },
            picture: {
              display: 'block',
              marginTop: '2em',
              marginBottom: '2em',
            },
            'picture > img': {
              marginTop: '0',
              marginBottom: '0',
            },
            video: {
              marginTop: '2em',
              marginBottom: '2em',
            },
            kbd: {
              fontWeight: '500',
              fontFamily: 'inherit',
              color: 'var(--tw-prose-code)',
              boxShadow: '0 0 0 1px rgb(var(--tw-prose-kbd-shadows) / 10%), 0 3px 0 rgb(var(--tw-prose-kbd-shadows) / 10%)',
              fontSize: '0.875em',
              borderRadius: '0.3125rem',
              paddingTop: '0.1875rem',
              paddingRight: '0.375rem',
              paddingBottom: '0.1875rem',
              paddingLeft: '0.375rem',
            },
            code: {
              color: 'var(--tw-prose-code)',
              fontWeight: '600',
              fontSize: '0.875em',
            },
            'code::before': {
              content: '"`"',
            },
            'code::after': {
              content: '"`"',
            },
            'a code': {
              color: 'inherit',
            },
            'h1 code': {
              color: 'inherit',
            },
            'h2 code': {
              color: 'inherit',
            },
            'h3 code': {
              color: 'inherit',
            },
            'h4 code': {
              color: 'inherit',
            },
            'blockquote code': {
              color: 'inherit',
            },
            'thead th code': {
              color: 'inherit',
            },
            pre: {
              color: 'var(--tw-prose-pre-code)',
              backgroundColor: 'var(--tw-prose-pre-bg)',
              overflowX: 'auto',
              fontWeight: '400',
              fontSize: '0.875em',
              lineHeight: '1.7142857',
              marginTop: '1.7142857em',
              marginBottom: '1.7142857em',
              borderRadius: '0.375rem',
              paddingTop: '0.8571429em',
              paddingRight: '1.1428571em',
              paddingBottom: '0.8571429em',
              paddingLeft: '1.1428571em',
            },
            'pre code': {
              backgroundColor: 'transparent',
              borderWidth: '0',
              borderRadius: '0',
              padding: '0',
              fontWeight: 'inherit',
              color: 'inherit',
              fontSize: 'inherit',
              fontFamily: 'inherit',
              lineHeight: 'inherit',
            },
            'pre code::before': {
              content: 'none',
            },
            'pre code::after': {
              content: 'none',
            },
            table: {
              width: '100%',
              tableLayout: 'auto',
              textAlign: 'left',
              marginTop: '2em',
              marginBottom: '2em',
              fontSize: '0.875em',
              lineHeight: '1.7142857',
            },
            thead: {
              borderBottomWidth: '1px',
              borderBottomColor: 'var(--tw-prose-th-borders)',
            },
            'thead th': {
              color: 'var(--tw-prose-headings)',
              fontWeight: '600',
              verticalAlign: 'bottom',
              paddingRight: '0.5714286em',
              paddingBottom: '0.5714286em',
              paddingLeft: '0.5714286em',
            },
            'tbody tr': {
              borderBottomWidth: '1px',
              borderBottomColor: 'var(--tw-prose-td-borders)',
            },
            'tbody tr:last-child': {
              borderBottomWidth: '0',
            },
            'tbody td': {
              verticalAlign: 'baseline',
            },
            tfoot: {
              borderTopWidth: '1px',
              borderTopColor: 'var(--tw-prose-th-borders)',
            },
            'tfoot td': {
              verticalAlign: 'top',
            },
            ':is(tbody, tfoot) td': {
              paddingTop: '0.5714286em',
              paddingRight: '0.5714286em',
              paddingBottom: '0.5714286em',
              paddingLeft: '0.5714286em',
            },
            figure: {
              marginTop: '2em',
              marginBottom: '2em',
            },
            'figure > *': {
              marginTop: '0',
              marginBottom: '0',
            },
            figcaption: {
              color: 'var(--tw-prose-captions)',
              fontSize: '0.875em',
              lineHeight: '1.4285714',
              marginTop: '0.8571429em',
            },
          },
        },
      }),
    },
  },
  plugins: [
    tailwindAnimate,
    tailwindContainerQueries,
    tailwindTypography,
    addDynamicIconSelectors({ scale: 0 }),
    tailwindForms({ strategy: 'class' }),
    plugin(function({ theme, addVariant, addUtilities, matchUtilities }) {
      addVariant('hocus', ['&:hover', '&:focus'])
      addVariant('group-hocus', ['.group:hover &', '.group:focus &'])
      addVariant('peer-hocus', ['.peer:hover ~ &', '.peer:focus ~ &'])
      
      // Hidden until found variant
      addVariant('hidden-until-found', '&[hidden]:not([hidden="until-found"])')
      
      // Thumb and track variants for input range
      addVariant('thumb', '&::-webkit-slider-thumb')
      addVariant('track', '&::-webkit-slider-runnable-track')
      
      // Forced colors support
      addVariant('forced-colors', '@media (forced-colors: active)')
      
      addUtilities({
        '.content-auto': {
          'content-visibility': 'auto',
        },
        '.content-hidden': {
          'content-visibility': 'hidden',
        },
        '.content-visible': {
          'content-visibility': 'visible',
        },
      })

      // Font family match utilities
      matchUtilities(
        {
          'font-family': (value) => {
            if (typeof value === 'object' && value.family) {
              return {
                fontFamily: value.family.join(', '),
              }
            }
            return {
              fontFamily: value,
            }
          },
        },
        {
          values: theme('fontFamily'),
          type: ['lookup', 'generic-name', 'family-name'],
        }
      )
    })
  ],
}

module.exports = config